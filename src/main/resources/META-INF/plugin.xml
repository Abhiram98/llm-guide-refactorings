<idea-plugin package="com.intellij.ml.llm.template">
    <id>com.intellij.ml.llm.template</id>
    <name>LLM Extract Function</name>
    <vendor>JetBrains</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.java</depends>
    <depends>com.intellij.modules.lang</depends>
    <depends>org.jetbrains.kotlin</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable
                groupId="tools"
                instance="com.intellij.ml.llm.template.settings.RefAgentConfigurable"
                id="ml.llm.LLMConfigurable"
                bundle="messages.LLMBundle"
                key="settings.configurable.display.name"/>
        <applicationConfigurable
                groupId="ml.llm.LLMConfigurable"
                instance="com.intellij.ml.llm.template.settings.refagent.AdvancedSettingsConfigurable"
                id="ml.llm.openai.AdvancedConfigurable"
                bundle="messages.LLMBundle"
                key="settings.configurable.openai.advanced.display.name"/>

        <!--suppress PluginXmlExtensionRegistration -->
        <intentionAction>
            <className>com.intellij.ml.llm.template.intentions.ApplySuggestRefactoringAgentIntention</className>
            <bundleName>messages.LLMBundle</bundleName>
            <categoryKey>intention.category.suggest.refactoring</categoryKey>
        </intentionAction>
<!--        <intentionAction>-->
<!--            <language>JAVA</language>-->
<!--            <className>com.intellij.ml.llm.template.intentions.ApplySuggestRefactoringOnCommitIntention</className>-->
<!--            <bundleName>messages.LLMBundle</bundleName>-->
<!--            <categoryKey>intention.category.suggest.refactoring</categoryKey>-->
<!--        </intentionAction>-->
<!--        <intentionAction>-->
<!--            <language>JAVA</language>-->
<!--            <className>com.intellij.ml.llm.template.intentions.ApplySuggestRefactoringInteractiveIntention</className>-->
<!--            <bundleName>messages.LLMBundle</bundleName>-->
<!--            <categoryKey>intention.category.suggest.refactoring</categoryKey>-->
<!--        </intentionAction>-->

        <registryKey defaultValue="false"
                     description="If enabled, emulates requests instead of using OpenAI API. Used for debug purposes."
                     key="llm.for.code.enable.mock.requests"/>

        <notificationGroup id="AI notification group" displayType="STICKY_BALLOON" bundle="messages.LLMBundle" key="notification.group.name"/>

    </extensions>
</idea-plugin>
